ğŸ“¦ Proyecto: â€œGestor de Usuarios con Email de ConfirmaciÃ³n y Datos de Pruebaâ€
ğŸ”§ Funcionalidades
Leer datos de conexiÃ³n desde .env.

Insertar usuarios con datos reales o falsos usando Faker.

Enviar un email de confirmaciÃ³n con PHPMailer.

Usar Composer para gestionar todo.

ğŸ› ï¸ PASO A PASO
1. ğŸ§± Estructura del proyecto
plaintext
Copiar
Editar
mi_proyecto_php/
â”‚
â”œâ”€â”€ .env
â”œâ”€â”€ composer.json
â”œâ”€â”€ 01_conexion.php
â”œâ”€â”€ 02_insertar_usuario.php
â”œâ”€â”€ 03_generar_datos_falsos.php
â”œâ”€â”€ 04_enviar_correo.php
â”œâ”€â”€ vendor/ (generado por composer)
â””â”€â”€ index.php
2. âš™ï¸ Iniciar Composer
En la terminal:

bash
Copiar
Editar
composer init
Responde las preguntas (nombre, descripciÃ³n, etc.) o pulsa enter. Luego instala las dependencias:

bash
Copiar
Editar
composer require vlucas/phpdotenv fakerphp/faker phpmailer/phpmailer
3. ğŸ“„ .env (en la raÃ­z del proyecto)
dotenv
Copiar
Editar
DB_HOST=127.0.0.1
DB_PORT=3308
DB_NAME=usuarios
DB_USER=root
DB_PASS=

MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USER=tu_correo@gmail.com
MAIL_PASS=tu_contraseÃ±a
MAIL_FROM=tu_correo@gmail.com
MAIL_FROM_NAME=Gestor de Usuarios
4. ğŸ”— 01_conexion.php
php
Copiar
Editar
<?php
require_once "vendor/autoload.php";

$dotenv = Dotenv\Dotenv::createImmutable(__DIR__);
$dotenv->load();

$host = $_ENV['DB_HOST'];
$port = $_ENV['DB_PORT'];
$db = $_ENV['DB_NAME'];
$user = $_ENV['DB_USER'];
$pass = $_ENV['DB_PASS'];

$dsn = "mysql:host=$host;port=$port;dbname=$db;charset=utf8mb4";

try {
    $pdo = new PDO($dsn, $user, $pass);
} catch (PDOException $e) {
    die("Error de conexiÃ³n: " . $e->getMessage());
}
5. ğŸ‘¤ 02_insertar_usuario.php
php
Copiar
Editar
<?php
require "01_conexion.php";

$name = "Usuario Real";
$age = 30;

$stm = $pdo->prepare("INSERT INTO usuario (name_, age) VALUES (?, ?)");
$stm->execute([$name, $age]);

echo "Usuario insertado correctamente.";
6. ğŸ¤– 03_generar_datos_falsos.php
php
Copiar
Editar
<?php
require "01_conexion.php";

$faker = Faker\Factory::create();

for ($i = 0; $i < 10; $i++) {
    $name = $faker->name();
    $age = rand(18, 60);
    $stm = $pdo->prepare("INSERT INTO usuario (name_, age) VALUES (?, ?)");
    $stm->execute([$name, $age]);
    echo "Insertado: $name, $age\n";
}
7. ğŸ“¬ 04_enviar_correo.php
php
Copiar
Editar
<?php
require_once "vendor/autoload.php";

$dotenv = Dotenv\Dotenv::createImmutable(__DIR__);
$dotenv->load();

use PHPMailer\PHPMailer\PHPMailer;
use PHPMailer\PHPMailer\Exception;

$mail = new PHPMailer(true);

try {
    $mail->isSMTP();
    $mail->Host = $_ENV['MAIL_HOST'];
    $mail->SMTPAuth = true;
    $mail->Username = $_ENV['MAIL_USER'];
    $mail->Password = $_ENV['MAIL_PASS'];
    $mail->SMTPSecure = 'tls';
    $mail->Port = $_ENV['MAIL_PORT'];

    $mail->setFrom($_ENV['MAIL_FROM'], $_ENV['MAIL_FROM_NAME']);
    $mail->addAddress('destinatario@correo.com');

    $mail->Subject = 'Usuario registrado';
    $mail->Body = 'Se ha registrado un nuevo usuario en la base de datos.';

    $mail->send();
    echo "Correo enviado correctamente.";
} catch (Exception $e) {
    echo "Error al enviar el correo: {$mail->ErrorInfo}";
}
8. ğŸš€ index.php (prueba completa)
php
Copiar
Editar
<?php
require "02_insertar_usuario.php";
require "04_enviar_correo.php";
Â¿Quieres que prepare un ZIP con esta estructura o prefieres que prepare un repositorio base en GitHub para que lo descargues o lo clones? TambiÃ©n te puedo guiar paso a paso mientras lo creas tÃº.